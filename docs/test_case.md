Тест-кейсы для ProSoft Distributed Storage System (PSDSS)
1. Тестирование клиентской части
1.1. Подключение к узлу
    • Предусловие: Запущена серверная часть (хотя бы один узел). Клиентская часть запущена.
    • Шаги:
        1. Ввести IP адрес узла в поле ввода.
        2. Нажать кнопку "Подключиться".
    • Ожидаемый результат: Клиент успешно подключается к узлу, отображается статус подключения и список файлов в облаке.
1.2. Отображение списка файлов
    • Предусловие: Клиент подключен к узлу.
    • Шаги:
        1. Загрузить файл в облако (если файлов нет).
        2. Обновить интерфейс клиента.
    • Ожидаемый результат: В интерфейсе отображается актуальный список файлов, включая загруженные.
1.3. Загрузка файла в облако
    • Предусловие: Клиент подключен к узлу.
    • Шаги:
        1. Выбрать файл на устройстве пользователя.
        2. Нажать кнопку "Загрузить".
    • Ожидаемый результат: Файл успешно загружается в облако, отображается статус загрузки, файл появляется в списке.
1.4. Скачивание файла из облака
    • Предусловие: Клиент подключен к узлу, в облаке есть хотя бы один файл.
    • Шаги:
        1. Выбрать файл из списка в облаке.
        2. Нажать кнопку "Скачать".
    • Ожидаемый результат: Файл успешно скачивается на устройство пользователя, его целостность проверяется (хеш-сумма совпадает).
1.5. Удаление файла из облака
    • Предусловие: Клиент подключен к узлу, в облаке есть хотя бы один файл.
    • Шаги:
        1. Выбрать файл из списка в облаке.
        2. Нажать кнопку "Удалить".
    • Ожидаемый результат: Файл удаляется из облака, исчезает из списка.
1.6. Проверка хеш-сумм
    • Предусловие: Клиент подключен к узлу.
    • Шаги:
        1. Загрузить файл в облако.
        2. Скачать тот же файл обратно.
        3. Сравнить хеш-суммы исходного и скачанного файла.
    • Ожидаемый результат: Хеш-суммы совпадают, файл не поврежден.

2. Тестирование серверной части
2.1. Запуск узла
    • Предусловие: Серверная часть установлена на устройстве.
    • Шаги:
        1. Выполнить команду ./psdss_server start.
    • Ожидаемый результат: Узел успешно запускается, начинает опрос других узлов в сети.
2.2. Остановка узла
    • Предусловие: Узел запущен.
    • Шаги:
        1. Выполнить команду ./psdss_server stop.
    • Ожидаемый результат: Узел останавливается, другие узлы (если есть) начинают реконфигурацию.
2.3. Проверка статуса узла
    • Предусловие: Узел запущен.
    • Шаги:
        1. Выполнить команду ./psdss_server status.
    • Ожидаемый результат: В консоль выводится текущее состояние узла (работает, остановлен и т.д.).
2.4. Очистка файловой системы
    • Предусловие: Узел запущен, в облаке есть файлы.
    • Шаги:
        1. Выполнить команду ./psdss_server clear_all.
    • Ожидаемый результат: Все файлы удаляются из облака, хранилище очищается.
2.5. Добавление файла через сервер
    • Предусловие: Узел запущен.
    • Шаги:
        1. Выполнить команду ./psdss_server put file1.txt.
    • Ожидаемый результат: Файл file1.txt добавляется в облако, появляется в списке файлов.
2.6. Удаление файла через сервер
    • Предусловие: Узел запущен, в облаке есть файл file1.txt.
    • Шаги:
        1. Выполнить команду ./psdss_server remove file1.txt.
    • Ожидаемый результат: Файл file1.txt удаляется из облака.

3. Тестирование взаимодействия узлов
3.1. Обмен фрагментами файлов
    • Предусловие: Запущены два или более узла, в облаке есть файлы.
    • Шаги:
        1. Остановить один из узлов.
        2. Проверить доступность файлов на оставшихся узлах.
    • Ожидаемый результат: Файлы остаются доступными, фрагменты автоматически реплицируются между оставшимися узлами.
3.2. Восстановление после отказа узла
    • Предусловие: Запущены два или более узла, в облаке есть файлы.
    • Шаги:
        1. Остановить один из узлов.
        2. Запустить его снова.
    • Ожидаемый результат: Узел успешно подключается к кластеру, файлы синхронизируются.

4. Нагрузочное тестирование
4.1. Одновременная работа нескольких клиентов
    • Предусловие: Запущена серверная часть (несколько узлов).
    • Шаги:
        1. Подключить несколько клиентов одновременно.
        2. Выполнить операции загрузки, скачивания и удаления файлов.
    • Ожидаемый результат: Система обрабатывает запросы без критических ошибок, время отклика не превышает 30 секунд.
4.2. Работа с большими файлами
    • Предусловие: Клиент подключен к узлу.
    • Шаги:
        1. Загрузить файл размером более 1 ГБ.
        2. Скачать тот же файл обратно.
        3. Сравнить хеш-суммы исходного и скачанного файла.
    • Ожидаемый результат: Хеш-суммы совпадают, файл не поврежден.

5. Юзабилити-тестирование
5.1. Удобство интерфейса
    • Предусловие: Клиентская часть запущена.
    • Шаги:
        1. Проверить расположение кнопок, полей ввода и вывода.
        2. Оценить понятность подсказок и статусных сообщений.
    • Ожидаемый результат: Интерфейс интуитивно понятен, все элементы доступны и логично расположены.

6. Тестирование надежности
6.1. Проверка резервирования файлов
    • Предусловие: Запущены два узла, в облаке есть файлы.
    • Шаги:
        1. Остановить один узел.
        2. Проверить доступность файлов на оставшемся узле.
    • Ожидаемый результат: Файлы остаются доступными, так как их фрагменты хранятся на двух узлах.
6.2. Восстановление файлов
    • Предусловие: Запущены три узла, в облаке есть файлы.
    • Шаги:
        1. Остановить два узла.
        2. Проверить доступность файлов на оставшемся узле.
        3. Запустить остановленные узлы.
    • Ожидаемый результат: Файлы остаются доступными, после запуска узлов происходит автоматическая синхронизация.
